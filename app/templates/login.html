{% extends "base.html" %}

{% block title %}
  Login - Pelican Hotel
{% endblock %}

{% block content %}
<section class="max-w-md mx-auto bg-white p-8 rounded shadow">
  <h2 class="text-2xl font-bold text-blue-700 mb-4 text-center">Login</h2>

  <!-- Toggle Buttons -->
  <div class="flex justify-center mb-4">
    <button id="guestToggle" class="px-4 py-2 bg-blue-600 text-white rounded-l">Guest</button>
    <button id="staffToggle" class="px-4 py-2 bg-gray-200 text-blue-600 rounded-r">Staff</button>
  </div>

  <!-- Guest Login Form (visible by default) -->
  <form id="guestForm" method="POST" action="{{ url_for('auth.guest_login') }}" class="space-y-4">
    <h2 class="text-xl font-bold text-blue-700 text-center">Guest Login</h2>
    <input type="email" name="email" placeholder="Email" class="w-full border p-2 rounded" required>
    <input type="password" name="password" placeholder="Password" class="w-full border p-2 rounded" required>
    <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 flex items-center justify-center gap-2" id="guestLoginBtn">
     <span>Login</span>
      <div class="loader hidden w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
    </button>
  </form>

  <!-- Staff Login Form (hidden by default) -->
  <form id="staffForm" method="POST" action="{{ url_for('auth.login') }}" class="space-y-4 hidden">
    <h2 class="text-xl font-bold text-blue-700 text-center">Staff Login</h2>
    <input type="text" name="username" placeholder="Username" class="w-full border p-2 rounded" required>
    <input type="password" name="password" placeholder="Password" class="w-full border p-2 rounded" required>
    <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 flex items-center justify-center gap-2" id="staffLoginBtn">
     <span>Login</span>
     <div class="loader hidden w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
     </button>
  </form>

  <!-- Switch Link -->
  <div class="mt-4 text-center text-sm text-gray-600">
    Are you having trouble logging in? Contact support.
  </div>
</section>
{% endblock %}
